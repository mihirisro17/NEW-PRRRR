<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>VEDAS Management Information System</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@3/dist/vue.global.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">
    <style>
        :root {
            --vedas-orange: #ff9933;
            --vedas-white: #fff;
            --vedas-green: #138808;
            --vedas-navy: #1a237e;
            --accent: #ec4899;
            --sidebar-width: 300px;
        }
        body {
            font-family: 'Inter', sans-serif;
            margin: 0;
            background: #f8fafc;
            color: #1e293b;
        }
        .header {
            position: fixed; top: 0; left:0; right:0; height: 80px;
            display: flex; align-items: center; padding: 0 32px;
            background: var(--bg-header, linear-gradient(135deg, #6366f1 0%, #8b5cf6 50%, #ec4899 100%));
            color: var(--sidebar-text, #fff); z-index: 1000; font-weight: bold;
        }
        .header.vedas {
            background: linear-gradient(to right, var(--vedas-orange) 0 33%, var(--vedas-white) 33% 66%, var(--vedas-green) 66% 100%);
            color: var(--vedas-navy);
            border-bottom: 4px solid var(--vedas-navy);
        }
        .header-title { font-size: 26px; font-weight: 900; flex-shrink: 0; color: inherit; margin-left: 18px;}
        .menu-toggle { margin-right: 24px; font-size: 26px; background: none; border: none; cursor: pointer; color: inherit; }
        .header-right {margin-left: auto; display: flex; align-items: center; gap: 18px;}
        .theme-selector { border-radius: 12px; font-weight: bold; font-size: 15px; padding: 10px 18px;}
        .sidebar {
            width: var(--sidebar-width); margin-top: 80px; position: fixed; left: 0; bottom: 0; top: 80px;
            background: var(--sidebar-bg, linear-gradient(180deg, #1e293b 0%, #0f172a 100%)); color: var(--sidebar-text, #fff);
            padding: 36px 20px 70px 20px;
            display: flex; flex-direction: column; align-items: flex-start; z-index: 900;
        }
        .sidebar.vedas { background: #fff; color: var(--vedas-navy); border-right: 2px solid var(--vedas-orange);}
        .sidebar-title {font-size: 12px; font-weight: 900; margin-bottom: 20px; letter-spacing: 2px; opacity: 0.65;}
        .nav-button {
            display: flex; align-items: center; gap: 14px;
            padding: 16px 20px; width: 100%;
            border-radius: 15px; transition: 0.3s; color: inherit;
            background: rgba(255,255,255,0.07); font-weight: bold; font-size: 15px;
            text-decoration: none; border: none; margin-bottom: 10px;
        }
        .sidebar.vedas .nav-button { background: #f6f6f6; color: var(--vedas-navy); }
        .nav-button.active { background: var(--accent, #ec4899); color: #fff !important;}
        .main-content {
            margin-left: var(--sidebar-width); margin-top: 80px;
            padding: 40px; min-height: calc(100vh - 80px - 50px);
            background: inherit; transition: .3s;
        }
        .home-container { max-width: 1100px; margin: auto; text-align: center; position: relative;}
        .welcome-title { font-size: 58px; font-weight: 900; margin: 30px 0 10px; background: var(--bg-header); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;}
        .vedas .welcome-title {background: linear-gradient(to right, var(--vedas-orange) 0 33%, var(--vedas-green) 66% 100%); background-clip:text; -webkit-background-clip:text; -webkit-text-fill-color:transparent; color:var(--vedas-navy;}
        .stats-container {display: grid; grid-template-columns: repeat(auto-fit,minmax(220px,1fr));gap: 27px;margin-top: 40px;}
        .stat-card {background: #fff; border-radius: 16px; box-shadow: 0 2px 14px rgba(0,0,0,0.07);padding: 29px 19px;}
        .stat-icon {font-size: 38px; margin-bottom: 9px;}
        .stat-value {font-size: 39px;font-weight: 900;}
        .stat-label {font-size: 13px; color: #555;font-weight: 700;}
        /* ALERT PANEL */
        .alert-panel { position: fixed; top: 120px; right: 40px; width: 410px; z-index: 1201; background: rgba(255,255,255,0.09); backdrop-filter: blur(40px) saturate(200%); border-radius: 20px; box-shadow: 0 14px 40px rgba(80,80,100,0.10);display: flex;flex-direction: column; border: 1.4px solid #dadada; }
        .alert-header { padding: 20px 28px; background: linear-gradient(135deg,#6366f1,#8b5cf6); border-radius: 20px 20px 0 0;color:#fff;display:flex;align-items:center;justify-content:space-between;}
        .vedas .alert-header {background: linear-gradient(to right, #ff9933 0 33%, #fff 33% 66%, #138808 66% 100%); color: #1a237e;}
        .alert-header-title {font-size: 17px; font-weight:900; display: flex; gap: 14px; align-items: center;}
        .alert-badge {background: linear-gradient(135deg, #ef4444, #dc2626);color: white;padding: 6px 14px;border-radius: 18px;font-size: 13px;font-weight: 900;margin-left:12px;}
        .alert-controls { display: flex; gap: 10px; }
        .alert-control-btn {background:rgba(255,255,255,0.21);border:2px solid rgba(255,255,255,0.5);color:inherit;padding:8px 15px;border-radius:12px;cursor:pointer;font-size:12px;font-weight:900; }
        .alert-control-btn:hover {background:#fff;}
        .alert-body {padding: 18px;}
        .close-btn { background: none; border: none; font-size: 21px; margin-left: 18px; cursor: pointer; font-weight: bold;}
        /* FOOTER */
        .footer { position: fixed; left: 0; right: 0; bottom: 0; background: #fff; color: var(--vedas-navy); border-top: 4px solid transparent; border-image: linear-gradient(to right, #ff9933, #fff 30%, #138808) 1; text-align: right; padding: 12px 32px; font-size: 15px; font-weight: 700; z-index: 199; letter-spacing: .4px;}
        .footer span {position:relative;z-index:2;}
        .vedas .footer { background: #fff; color: #1a237e; border-top: 4px solid transparent; border-image: linear-gradient(to right,#ff9933,#fff 30%,#138808) 1;}
    </style>
</head>
<body :class="currentTheme">
<div id="app">
    <!-- HEADER -->
    <div :class="['header', {'vedas': currentTheme==='vedas'}]">
        <button class="menu-toggle" @click="toggleSidebar">‚ò∞</button>
        <span class="header-title">VEDAS Management Information System</span>
        <div class="header-right">
            <div>{{ currentTime }}</div>
            <select class="theme-selector" v-model="currentTheme" @change="handleThemeChange">
                <option value="">üåü Light</option>
                <option value="theme-dark">üåô Dark</option>
                <option value="theme-ocean">üåä Ocean</option>
                <option value="theme-forest">üå≤ Forest</option>
                <option value="theme-sunset">üåÖ Sunset</option>
                <option value="vedas">üáÆüá≥ VEDAS</option>
                <option value="auto">üïê Auto (Time-Based)</option>
            </select>
        </div>
    </div>
    <!-- SIDEBAR -->
    <div :class="['sidebar', {'vedas': currentTheme==='vedas'}]">
        <div class="sidebar-title">MY APPLICATIONS</div>
        <a href="javascript:void(0)" class="nav-button" :class="{active: currentPage==='home'}" @click="navigateTo('home')"><span>üè†</span>Home Dashboard</a>
        <a v-for="app in applications" :key="app.id" class="nav-button" :class="{active:currentPage===app.id}" @click="setActive(app.id)">
            <span>{{ app.icon }}</span>{{ app.name }}
        </a>
        <a class="nav-button" :class="{active:currentPage==='team_analytics'}" @click="navigateTo('team_analytics')"><span>üë•</span>Team Analytics</a>
    </div>
    <!-- MAIN CONTENT -->
    <div class="main-content" :style="{marginBottom:'50px'}">
        <div v-if="currentPage === 'home'" class="home-container">
            <div :class="['welcome-title', {'vedas': currentTheme==='vedas'}]">Welcome To The VEDAS Software Hub</div>
            <div class="stats-container">
                <div class="stat-card"><div class="stat-icon">üñ•Ô∏è</div><div class="stat-value">{{ totalServers }}</div><div class="stat-label">Total Servers</div></div>
                <div class="stat-card"><div class="stat-icon">‚öôÔ∏è</div><div class="stat-value">{{ totalServices }}</div><div class="stat-label">Active Services</div></div>
                <div class="stat-card"><div class="stat-icon">üîî</div><div class="stat-value">{{ totalAlerts }}</div><div class="stat-label">Active Alerts</div></div>
                <div class="stat-card"><div class="stat-icon">üìä</div><div class="stat-value">{{ applications.length }}</div><div class="stat-label">Applications</div></div>
                <div class="stat-card"><div class="stat-icon">üë•</div><div class="stat-value">12</div><div class="stat-label">Teams</div></div>
            </div>
        </div>
        <div v-else-if="currentPage === 'team_analytics'" class="home-container">
            <div class="welcome-title">Team Analytics</div>
            <!-- ... Team analytics content ... -->
        </div>
        <iframe v-else name="app-frame" style="width:100%;min-height:600px;border:none;border-radius:18px" :src="currentAppUrl"></iframe>
    </div>
    <!-- ALERT PANEL -->
    <div class="alert-panel" v-if="showAlertPanel">
        <div class="alert-header" :class="{'vedas': currentTheme==='vedas'}">
            <div class="alert-header-title">
                <span>üîî</span>System Alerts
                <span class="alert-badge" v-if="totalAlerts > 0">{{ totalAlerts }}</span>
            </div>
            <div class="alert-controls">
                <button class="alert-control-btn" @click="clearAllAlerts" v-if="totalAlerts > 0">Clear</button>
                <button class="close-btn" @click="showAlertPanel=false">‚ùå</button>
            </div>
        </div>
        <div class="alert-body">
            <div v-if="totalAlerts===0">‚úÖ No alerts<br>All systems operational</div>
            <!-- ... Alerts list ... -->
        </div>
    </div>
    <!-- FOOTER -->
    <div class="footer"><span>&copy; All rights reserved</span></div>
</div>
<script>
const { createApp } = Vue;
createApp({
    data() {
        return {
            currentTheme: '',
            currentTime: '',
            sidebarCollapsed: false,
            currentPage: 'home',
            currentAppUrl: '',
            showAlertPanel: true,
            serverAlerts: [],
            processAlerts: [],
            totalServers: 20,
            totalServices: 41,
            applications: [
                {id: 'monitoring_server', name: 'Monitoring Server', icon: 'üñ•Ô∏è', url: 'http://192.168.2.137:8080/monitoring_server/home'},
                {id: 'monitoring_datasets', name: 'Monitoring Datasets', icon: 'üìä', url: 'http://192.168.2.137:8080/monitoring_datasets/'},
                {id: 'process_monitoring', name: 'Process Monitoring', icon: '‚öôÔ∏è', url: 'http://192.168.2.137:8080/process_monitoring/'},
                {id: 'ridam_registration', name: 'RIDAM Registration', icon: 'üìù', url: 'http://192.168.2.137:8080/ridam_registration/'},
                {id: 'monitoring_sentinel', name: 'Monitoring Sentinel', icon: 'üõ∞Ô∏è', url: 'http://192.168.2.137:8080/monitoring_sentinel/'}
            ],
            appSwitchIndex: 0,
            appSwitchTimer: null,
        }
    },
    computed: {
        totalAlerts() { return this.serverAlerts.length + this.processAlerts.length; }
    },
    methods: {
        toggleSidebar() { this.sidebarCollapsed = !this.sidebarCollapsed; },
        navigateTo(page) { this.currentPage = page; if(page==='home') this.currentAppUrl=''; if(page==='team_analytics') this.currentAppUrl='';},
        setActive(appId) { this.currentPage = appId; const app = this.applications.find(a => a.id === appId); if(app) this.currentAppUrl=app.url; },
        handleThemeChange() {
            if(this.currentTheme === 'vedas') {
                document.body.className='vedas';
            } else {
                document.body.className=this.currentTheme;
            }
        },
        clearAllAlerts() { this.serverAlerts=[]; this.processAlerts=[]; },
        switchNextApp() {
            this.appSwitchIndex = (this.appSwitchIndex+1)%this.applications.length;
            this.currentPage = this.applications[this.appSwitchIndex].id;
            this.currentAppUrl = this.applications[this.appSwitchIndex].url;
        },
        startAppSwitchTimer() {
            if(this.appSwitchTimer) clearInterval(this.appSwitchTimer);
            this.appSwitchTimer = setInterval(this.switchNextApp, 600000); // 10 min
        },
        stopAppSwitchTimer() { if(this.appSwitchTimer) clearInterval(this.appSwitchTimer); this.appSwitchTimer=null;}
    },
    mounted() {
        this.currentTime = new Date().toLocaleString();
        setInterval(() => { this.currentTime = new Date().toLocaleString(); }, 1000);
        this.startAppSwitchTimer();
        document.body.addEventListener('click', ()=>{this.stopAppSwitchTimer(); setTimeout(()=>this.startAppSwitchTimer(),600000);});
    }
}).mount('#app');
</script>
</body>
</html>
