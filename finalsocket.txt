<!-- Replace the entire alert-body section with this: -->
<div class="alert-body">
    <div v-if="totalAlerts === 0" class="no-alerts">
        ðŸŽ‰ No alerts<br>All systems operational
    </div>

    <div v-else>
        <!-- âœ… DYNAMIC SECTIONS FOR ALL CATEGORIES -->
        <div v-for="(alerts, category) in alertsByCategory" :key="category" class="alert-section" v-if="alerts && alerts.length > 0">
            <div class="alert-section-header" @click="toggleSection(category)">
                <div class="alert-section-title">
                    {{ getCategoryIcon(category) }} {{ getCategoryName(category) }} ({{ alerts.length }})
                </div>
                <span class="collapse-icon" :class="{ collapsed: collapsedSections[category] }">â–¼</span>
            </div>
            <div class="alert-section-content"
                :class="{ collapsed: collapsedSections[category], 'limit-height': !collapsedSections[category] && alerts.length > 2 }">
                <div v-for="(alert, index) in alerts" :key="category + '-' + index"
                    class="alert-item" :class="'alert-' + alert.type.toLowerCase()">
                    <div class="alert-content">
                        <div class="alert-type">{{ alert.type }}</div>
                        <div class="alert-message">{{ alert.message }}</div>
                        <div class="alert-server">{{ alert.server }}</div>
                    </div>
                    <button class="alert-delete-btn" @click="removeAlert(category, index)" title="Remove alert">âœ•</button>
                </div>
            </div>
        </div>
    </div>
</div>




data() {
    return {
        // ... existing data ...
        collapsedSections: {},  // âœ… ADD THIS - tracks which sections are collapsed
    };
},

methods: {
    // ... existing methods ...

    // âœ… ADD THESE NEW METHODS:
    
    getCategoryIcon(category) {
        const icons = {
            'server': 'ðŸ–¥ï¸',
            'system': 'âš ï¸',
            'dataset': 'ðŸ“Š',
            'storage': 'ðŸ’¾',
            'network': 'ðŸŒ',
            'api': 'ðŸ”Œ',
            'database': 'ðŸ—„ï¸'
        };
        return icons[category] || 'ðŸ””';
    },

    getCategoryName(category) {
        return category.charAt(0).toUpperCase() + category.slice(1) + ' Alerts';
    },

    toggleSection(category) {
        if (!this.collapsedSections[category]) {
            this.$set(this.collapsedSections, category, false);
        }
        this.collapsedSections[category] = !this.collapsedSections[category];
    },

    // âœ… UPDATE collapseAllSections method:
    collapseAllSections() {
        this.allSectionsCollapsed = !this.allSectionsCollapsed;
        Object.keys(this.alertsByCategory).forEach(category => {
            this.$set(this.collapsedSections, category, this.allSectionsCollapsed);
        });
    },

    // Remove the old toggleServerSection and toggleSystemSection methods
}


