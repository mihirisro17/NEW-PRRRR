// Add this method to your Vue instance
methods: {
  formatUsage(usage) {
    // Parse CPU and Memory usage
    const cpuMatch = usage.match(/CPU:\s*([\d.]+)%/);
    const memMatch = usage.match(/Memory:\s*([\d.]+)%/);
    const diskMatch = usage.match(/Disk:\s*([\d.]+)%/);
    
    const cpu = cpuMatch ? parseFloat(cpuMatch[1]) : 0;
    const mem = memMatch ? parseFloat(memMatch[1]) : 0;
    const disk = diskMatch ? parseFloat(diskMatch[1]) : 0;
    
    // Determine status colors
    const cpuColor = this.getStatusColor(cpu);
    const memColor = this.getStatusColor(mem);
    const diskColor = this.getStatusColor(disk);
    
    return `
      <span class="usage-metric ${cpuColor}">
        <i class="fas fa-microchip"></i> CPU: ${cpu}%
      </span>
      <span class="usage-metric ${memColor}">
        <i class="fas fa-memory"></i> Memory: ${mem}%
      </span>
      <span class="usage-metric ${diskColor}">
        <i class="fas fa-hdd"></i> Disk: ${disk}%
      </span>
    `;
  },
  
  getStatusColor(value) {
    if (value >= 85) return 'status-critical';
    if (value >= 70) return 'status-warning';
    if (value >= 50) return 'status-moderate';
    return 'status-normal';
  },
  
  getServerAlertLevel(usage) {
    // Calculate max usage across all metrics
    const cpuMatch = usage.match(/CPU:\s*([\d.]+)%/);
    const memMatch = usage.match(/Memory:\s*([\d.]+)%/);
    const diskMatch = usage.match(/Disk:\s*([\d.]+)%/);
    
    const cpu = cpuMatch ? parseFloat(cpuMatch[1]) : 0;
    const mem = memMatch ? parseFloat(memMatch[1]) : 0;
    const disk = diskMatch ? parseFloat(diskMatch[1]) : 0;
    
    const maxUsage = Math.max(cpu, mem, disk);
    
    if (maxUsage >= 85) return 'critical';
    if (maxUsage >= 70) return 'warning';
    if (maxUsage >= 50) return 'moderate';
    return 'normal';
  }
}









<div :class="['server-usage-banner', getBannerAlertClass()]">
  <div class="banner-icon">
    <i :class="getBannerIcon()"></i>
  </div>
  <div class="usage-scroll-container">
    <div class="usage-scroll">
      <span v-for="(usage, server) in serverUsage" :key="server" 
            :class="['usage-item', getServerAlertLevel(usage)]">
        <span class="server-badge">
          <i class="fas fa-server"></i>
          <strong>{{ server }}</strong>
        </span>
        <span class="metrics-container" v-html="formatUsage(usage)"></span>
        <span :class="['alert-badge', getServerAlertLevel(usage)]">
          {{ getAlertText(getServerAlertLevel(usage)) }}
        </span>
      </span>
    </div>
  </div>
  <div class="banner-status-indicator">
    <span class="status-pulse"></span>
    {{ getBannerStatusText() }}
  </div>
</div>








/* ============================================
   SMART COLOR-CODED SERVER USAGE BANNER
   ============================================ */

.server-usage-banner {
  position: relative;
  border-radius: 15px;
  padding: 20px;
  margin-bottom: 25px;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
  overflow: hidden;
  transition: all 0.5s ease;
  display: flex;
  align-items: center;
  gap: 20px;
}

/* Normal State - Green */
.server-usage-banner.normal {
  background: linear-gradient(135deg, #10b981, #34d399, #6ee7b7);
  animation: normalPulse 4s ease-in-out infinite;
}

@keyframes normalPulse {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Moderate State - Blue/Cyan */
.server-usage-banner.moderate {
  background: linear-gradient(135deg, #3b82f6, #60a5fa, #93c5fd);
  animation: moderatePulse 3s ease-in-out infinite;
}

@keyframes moderatePulse {
  0%, 100% { 
    background: linear-gradient(135deg, #3b82f6, #60a5fa, #93c5fd);
    box-shadow: 0 8px 24px rgba(59, 130, 246, 0.4);
  }
  50% { 
    background: linear-gradient(135deg, #60a5fa, #93c5fd, #3b82f6);
    box-shadow: 0 8px 32px rgba(59, 130, 246, 0.6);
  }
}

/* Warning State - Orange/Yellow */
.server-usage-banner.warning {
  background: linear-gradient(135deg, #f59e0b, #fbbf24, #fcd34d);
  animation: warningPulse 2s ease-in-out infinite;
}

@keyframes warningPulse {
  0%, 100% { 
    background: linear-gradient(135deg, #f59e0b, #fbbf24, #fcd34d);
    box-shadow: 0 8px 28px rgba(245, 158, 11, 0.5);
    transform: scale(1);
  }
  50% { 
    background: linear-gradient(135deg, #fbbf24, #fcd34d, #f59e0b);
    box-shadow: 0 10px 36px rgba(245, 158, 11, 0.7);
    transform: scale(1.01);
  }
}

/* Critical State - Red */
.server-usage-banner.critical {
  background: linear-gradient(135deg, #ef4444, #f87171, #fca5a5);
  animation: criticalAlert 1s ease-in-out infinite;
}

@keyframes criticalAlert {
  0%, 100% { 
    background: linear-gradient(135deg, #ef4444, #f87171, #fca5a5);
    box-shadow: 0 8px 32px rgba(239, 68, 68, 0.6);
    transform: scale(1);
  }
  50% { 
    background: linear-gradient(135deg, #dc2626, #ef4444, #f87171);
    box-shadow: 0 12px 40px rgba(239, 68, 68, 0.9);
    transform: scale(1.02);
  }
}

/* Banner Icon */
.banner-icon {
  font-size: 36px;
  color: #fff;
  text-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
  animation: iconBounce 2s ease-in-out infinite;
  min-width: 50px;
  display: flex;
  align-items: center;
  justify-content: center;
}

@keyframes iconBounce {
  0%, 100% { transform: translateY(0) scale(1); }
  50% { transform: translateY(-5px) scale(1.1); }
}

.banner-icon i {
  filter: drop-shadow(0 4px 6px rgba(0, 0, 0, 0.2));
}

/* Usage Scroll Container */
.usage-scroll-container {
  flex: 1;
  overflow: hidden;
  position: relative;
}

.usage-scroll {
  display: flex;
  animation: scrollBanner 35s linear infinite;
  white-space: nowrap;
}

@keyframes scrollBanner {
  0% { transform: translateX(0%); }
  100% { transform: translateX(-50%); }
}

/* Pause animation on hover */
.server-usage-banner:hover .usage-scroll {
  animation-play-state: paused;
}

/* Individual Usage Items */
.usage-item {
  display: inline-flex;
  align-items: center;
  gap: 15px;
  margin-right: 60px;
  padding: 12px 20px;
  background: rgba(255, 255, 255, 0.15);
  backdrop-filter: blur(10px);
  border-radius: 12px;
  border: 2px solid rgba(255, 255, 255, 0.3);
  transition: all 0.3s ease;
}

.usage-item:hover {
  background: rgba(255, 255, 255, 0.25);
  transform: scale(1.05);
  box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
}

/* Server Badge */
.server-badge {
  display: flex;
  align-items: center;
  gap: 8px;
  padding: 8px 14px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 8px;
  color: #1e293b;
  font-weight: 700;
  font-size: 15px;
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
}

.server-badge i {
  color: #4f46e5;
  font-size: 18px;
}

/* Metrics Container */
.metrics-container {
  display: flex;
  gap: 12px;
  align-items: center;
}

/* Individual Metrics */
.usage-metric {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  padding: 6px 12px;
  border-radius: 8px;
  font-weight: 600;
  font-size: 13px;
  transition: all 0.3s ease;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.15);
}

.usage-metric i {
  font-size: 14px;
}

/* Normal - Green */
.usage-metric.status-normal {
  background: linear-gradient(135deg, #10b981, #34d399);
  color: #fff;
}

/* Moderate - Blue */
.usage-metric.status-moderate {
  background: linear-gradient(135deg, #3b82f6, #60a5fa);
  color: #fff;
  animation: moderateGlow 2s ease-in-out infinite;
}

@keyframes moderateGlow {
  0%, 100% { box-shadow: 0 2px 6px rgba(59, 130, 246, 0.4); }
  50% { box-shadow: 0 4px 12px rgba(59, 130, 246, 0.6); }
}

/* Warning - Orange/Yellow */
.usage-metric.status-warning {
  background: linear-gradient(135deg, #f59e0b, #fbbf24);
  color: #fff;
  animation: warningGlow 1.5s ease-in-out infinite;
}

@keyframes warningGlow {
  0%, 100% { 
    box-shadow: 0 2px 8px rgba(245, 158, 11, 0.5);
    transform: scale(1);
  }
  50% { 
    box-shadow: 0 4px 16px rgba(245, 158, 11, 0.8);
    transform: scale(1.05);
  }
}

/* Critical - Red */
.usage-metric.status-critical {
  background: linear-gradient(135deg, #ef4444, #dc2626);
  color: #fff;
  animation: criticalBlink 1s ease-in-out infinite;
}

@keyframes criticalBlink {
  0%, 100% { 
    box-shadow: 0 2px 8px rgba(239, 68, 68, 0.6);
    opacity: 1;
  }
  50% { 
    box-shadow: 0 6px 20px rgba(239, 68, 68, 1);
    opacity: 0.85;
  }
}

/* Alert Badge */
.alert-badge {
  padding: 6px 12px;
  border-radius: 20px;
  font-size: 11px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.alert-badge.normal {
  background: #10b981;
  color: #fff;
}

.alert-badge.moderate {
  background: #3b82f6;
  color: #fff;
  animation: pulse 2s ease-in-out infinite;
}

.alert-badge.warning {
  background: #f59e0b;
  color: #fff;
  animation: pulse 1.5s ease-in-out infinite;
}

.alert-badge.critical {
  background: #ef4444;
  color: #fff;
  animation: urgentPulse 0.8s ease-in-out infinite;
}

@keyframes urgentPulse {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.1); }
}

/* Banner Status Indicator */
.banner-status-indicator {
  display: flex;
  align-items: center;
  gap: 10px;
  padding: 10px 18px;
  background: rgba(255, 255, 255, 0.9);
  border-radius: 25px;
  color: #1e293b;
  font-weight: 700;
  font-size: 14px;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.2);
  min-width: 150px;
  justify-content: center;
}

.status-pulse {
  width: 12px;
  height: 12px;
  border-radius: 50%;
  animation: statusPulse 1.5s ease-in-out infinite;
}

.server-usage-banner.normal .status-pulse {
  background: #10b981;
  box-shadow: 0 0 10px #10b981;
}

.server-usage-banner.moderate .status-pulse {
  background: #3b82f6;
  box-shadow: 0 0 12px #3b82f6;
}

.server-usage-banner.warning .status-pulse {
  background: #f59e0b;
  box-shadow: 0 0 14px #f59e0b;
}

.server-usage-banner.critical .status-pulse {
  background: #ef4444;
  box-shadow: 0 0 16px #ef4444;
}

@keyframes statusPulse {
  0%, 100% { 
    transform: scale(1);
    opacity: 1;
  }
  50% { 
    transform: scale(1.3);
    opacity: 0.7;
  }
}

/* Responsive Design */
@media (max-width: 768px) {
  .server-usage-banner {
    flex-direction: column;
    padding: 15px;
  }
  
  .banner-icon {
    font-size: 28px;
  }
  
  .usage-item {
    flex-direction: column;
    align-items: flex-start;
    gap: 10px;
  }
  
  .banner-status-indicator {
    width: 100%;
  }
}
