/* ==================== STORAGE ANALYSIS MODAL FIXES - STICKY TABS ==================== */

/* Ensure modal structure supports sticky positioning */
.modal-content.large {
    max-width: 1400px;
    width: 95%;
    max-height: 90vh;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

/* Modal header should be fixed */
.modal-header {
    padding: 2rem;
    background: linear-gradient(135deg, #667eea, #764ba2);
    color: white;
    flex-shrink: 0;
    position: relative;
    z-index: 100;
}

.modal-header h2 {
    color: white !important;
}

/* Storage analysis container must use flexbox */
.storage-analysis-container {
    display: flex;
    flex-direction: column;
    flex: 1;
    overflow: hidden;
    position: relative;
}

/* Summary cards - fixed at top */
.analysis-summary-cards {
    flex-shrink: 0;
    position: relative;
    z-index: 90;
}

/* STICKY TABS - Critical fix */
.analysis-tabs-modern {
    display: flex;
    gap: 0;
    padding: 0 2rem;
    background: var(--bg-primary);
    border-bottom: 2px solid var(--border);
    overflow-x: auto;
    flex-shrink: 0;
    position: sticky;
    top: 0;
    z-index: 95;
    box-shadow: 0 2px 8px var(--shadow);
}

/* Scrollable content wrapper */
.analysis-content-wrapper {
    flex: 1;
    overflow-y: auto;
    overflow-x: hidden;
    padding: 2rem;
    background: var(--bg-primary);
    position: relative;
}

/* Make sure sections don't overflow */
.analysis-section {
    display: none;
}

.analysis-section.active {
    display: block;
    animation: fadeSlideIn 0.4s ease;
}

/* Table wrapper should allow scrolling */
.analysis-table-wrapper {
    overflow-x: auto;
    border-radius: 16px;
    border: 2px solid var(--border);
    background: var(--bg-secondary);
    box-shadow: 0 4px 12px var(--shadow);
    max-width: 100%;
}

/* Ensure tables don't break layout */
.modern-table {
    width: 100%;
    min-width: 600px;
    border-collapse: collapse;
}

/* File types grid responsive */
.file-types-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
    gap: 1.5rem;
}

/* Responsive adjustments */
@media (max-width: 1200px) {
    .file-types-grid {
        grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .modal-content.large {
        width: 100%;
        max-width: 100%;
        max-height: 100vh;
        border-radius: 0;
    }
    
    .modal-header {
        padding: 1.5rem;
    }
    
    .analysis-summary-cards {
        grid-template-columns: 1fr;
        padding: 1.5rem;
    }
    
    .analysis-tabs-modern {
        padding: 0 1rem;
        overflow-x: scroll;
        -webkit-overflow-scrolling: touch;
    }
    
    .analysis-content-wrapper {
        padding: 1.5rem;
    }
    
    .file-types-grid {
        grid-template-columns: 1fr;
    }
}

/* Prevent text selection while dragging */
.analysis-tabs-modern {
    user-select: none;
    -webkit-user-select: none;
}

/* Smooth scrolling for content */
.analysis-content-wrapper {
    scroll-behavior: smooth;
}
